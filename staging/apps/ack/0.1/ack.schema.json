{
  "$id": "https://github.com/PMeV-EFUL/ucri2/raw/refs/heads/main/apps/ack/0.1/ack.schema.json",
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "unevaluatedProperties": false,
  "title": "Technische Quittung",
  "description": "Automatisch generierte Quittung über die Zustellung einer zuvor gesendeten Nachricht",
  "required": [ "refMessageId", "statusCode" ],
  "type": "object",
  "properties": {
    "refMessageId": {
      "title": "Systemweit eindeutige UUID der referenzierten Nachricht",
      "type": "string",
      "pattern": "^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$"
    },
    "statusCode": {
      "title": "Status-Code",
      "type": "integer",
      "enum": [200, 404, 503, 504],
      "description": "Status-Code: 200 - Zustellbestätigung, 404 - Empfänger der referenzierten Nachricht nicht gefunden, 503 - KT - Empfänger der referenzierten Nachricht - vorübergehend abgemeldet, 504 - Timeout"
    },
    "statusMessage": {
      "title": "Text mit weiteren Einzelheiten und Abhilfemaßnahmen in Bezug auf den Fehler. Dies kann einem Client-Benutzer angezeigt werden.",
      "type": "string",
      "maxLength": 1000
    }
  },
  "examples": [{
    "refMessageId": "550e8400-e29b-41d4-a716-446655440000",
    "statusCode": 504,
    "statusMessage": "Nachricht unzustellbar nach 300 Sekunden"
  }]
}